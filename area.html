<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>Banquinhas ‚Ä¢ √Årea</title>

  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="assets/css/area.css">
  <link rel="stylesheet" href="assets/css/sorteio.css">
  <link rel="stylesheet" href="assets/css/palpite.css">
  <link rel="stylesheet" href="assets/css/cashback.css">
  <link rel="stylesheet" href="assets/css/torneio.css">
</head>
<body>

  <header class="hero">
    <div class="hero-overlay"></div>
    <div class="hero-wrap">
      <img src="assets/img/banner.png" alt="Banquinhas" class="hero-logo">
      <div>
        <h1 class="hero-title">Banquinhas</h1>
        <p class="hero-sub">Gest√£o de Bancas, Pagamentos, Extratos, Cupons, Sorteio, Palpites, Torneios e Cashbacks</p>
      </div>
    </div>
  </header>

  <main class="layout">

    <aside class="sidebar">
      <div class="brand">
        <img src="assets/img/banner.png" alt="Bancas" class="brand-img">
        <strong>Bancas</strong>
      </div>

      <nav class="nav">
        <button class="nav-btn active" data-tab="bancas">Bancas</button>
        <button class="nav-btn" data-tab="pagamentos">Pagamentos</button>
        <button class="nav-btn" data-tab="cupons">Cupons</button>
        <button class="nav-btn" data-tab="sorteio">Sorteio</button>
        <button class="nav-btn" data-tab="palpite">Palpites</button>
        <button class="nav-btn" data-tab="torneio">Torneio</button>
        <button class="nav-btn" data-tab="cashbacks">Cashbacks</button>
        <button class="nav-btn" data-tab="extratos">Extratos</button>

        <button id="logoutBtn" class="btn btn--ghost" style="margin-left:auto">
          Sair
        </button>
      </nav>
    </aside>

    <section class="content">

      <div class="tab tab-view show" id="tab-bancas">
        <div class="bar totbar">
          <input
            id="busca"
            class="input busca-nome"
            type="text"
            placeholder="Buscar por nome‚Ä¶">

          <div class="totais">
            <button type="button" class="totais-pill" id="btnAddBanca">
              Adicionar banca
            </button>

            <button type="button" class="totais-pill" id="totalDepositos">
              Soma dos Dep√≥sitos
            </button>

            <button type="button" class="totais-pill" id="totalBancas">
              Soma das Bancas
            </button>
          </div>
        </div>

        <div class="card">
          <div class="table-wrap">
            <table class="table" id="tblBancas" aria-label="Tabela de Bancas">
              <thead>
                <tr>
                  <th>Nome</th>
                  <th>Dep√≥sito (R$)</th>
                  <th>Banca (R$)</th>

                  <th class="col-acoes">
                    <div class="th-acoes">
                      <span>A√ß√µes</span>
                      <button
                        type="button"
                        id="btnDelAllBancas"
                        class="btn btn--danger btn--small">
                        Excluir todos
                      </button>
                    </div>
                  </th>
                </tr>
              </thead>
              <tbody></tbody>
            </table>

          </div>
        </div>
      </div>

      <div class="tab tab-view" id="tab-pagamentos">
        <div class="card">
          <div class="table-wrap">
            <table class="table" id="tblPagamentos" aria-label="Tabela de Pagamentos">
              <thead>
                <tr>
                  <th>Nome</th>
                  <th>Pagamento (R$)</th>
                  <th>A√ß√µes</th>
                </tr>
              </thead>
              <tbody></tbody>
            </table>
          </div>
        </div>
      </div>

      <div class="tab tab-view" id="tab-extratos">
        <div class="card extratos-card">
          <div class="bar extratos-bar">
            <div class="extratos-filtros-grid">
              <div>
                <label class="muted" for="filtro-tipo">Tipo</label>
                <select id="filtro-tipo" class="input">
                  <option value="all">Todos</option>
                  <option value="deposito">Dep√≥sitos</option>
                  <option value="pagamento">Pagamentos</option>
                </select>
              </div>

              <div>
                <label class="muted" for="filtro-range">Per√≠odo</label>
                <select id="filtro-range" class="input">
                  <option value="today">Hoje</option>
                  <option value="last7">√öltimos 7 dias</option>
                  <option value="last30" selected>√öltimos 30 dias</option>
                  <option value="custom">Intervalo personalizado</option>
                </select>
              </div>

              <div>
                <label class="muted" for="filtro-from">De</label>
                <input id="filtro-from" type="date" class="input" disabled>
              </div>

              <div>
                <label class="muted" for="filtro-to">At√©</label>
                <input id="filtro-to" type="date" class="input" disabled>
              </div>
            </div>

            <div class="extratos-busca-acao">
              <input
                id="busca-extrato"
                class="input"
                type="text"
                placeholder="Buscar por nome‚Ä¶">
              <button id="btn-filtrar" class="btn btn--primary">Aplicar filtros</button>
              <button id="btn-limpar" class="btn btn--ghost">Limpar</button>
            </div>
          </div>

          <div class="extratos-cols">
            <div class="extratos-col" data-card="deps">
              <h3>Dep√≥sitos</h3>
              <div class="table-wrap">
                <table class="table" id="tblExtratosDepositos" aria-label="Extratos - Dep√≥sitos">
                  <thead>
                    <tr>
                      <th>Nome</th>
                      <th>Valor (R$)</th>
                      <th>Data</th>
                    </tr>
                  </thead>
                  <tbody></tbody>
                </table>
              </div>
            </div>

            <div class="extratos-col" data-card="pags">
              <h3>Pagamentos</h3>
              <div class="table-wrap">
                <table class="table" id="tblExtratosPagamentos" aria-label="Extratos - Pagamentos">
                  <thead>
                    <tr>
                      <th>Nome</th>
                      <th>Valor (R$)</th>
                      <th>Data</th>
                    </tr>
                  </thead>
                  <tbody></tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="tab tab-view" id="tab-cupons">
        <div class="card cupons-card">
          <div class="bar cupons-bar">
            <div class="cupons-filtros">
              <div>
                <label class="muted" for="busca-cupom">Buscar</label>
                <input
                  id="busca-cupom"
                  class="input"
                  type="text"
                  placeholder="Buscar por c√≥digo ou nome‚Ä¶">
              </div>

              <div>
                <label class="muted" for="filtro-cupom-status">Status</label>
                <select id="filtro-cupom-status" class="input">
                  <option value="todos">Todos</option>
                  <option value="ativos">Ativos</option>
                  <option value="usados">Resgatados</option>
                  <option value="expirados">Expirados</option>
                </select>
              </div>
            </div>

            <div class="cupons-acoes">
              <button type="button" class="btn btn--primary" id="btnCupomNovo">
                Gerar cupom
              </button>
            </div>
          </div>

          <div class="table-wrap">
            <table class="table" id="tblCupons" aria-label="Cupons de dep√≥sito">
              <thead>
                <tr>
                  <th>C√≥digo</th>
                  <th>Valor (R$)</th>
                  <th>Status</th>
                  <th>Expira em</th>
                  <th>Resgatado por</th>
                  <th class="col-acoes">A√ß√µes</th>
                </tr>
              </thead>
              <tbody></tbody>
            </table>
          </div>
        </div>
      </div>

      <div class="tab tab-view" id="tab-sorteio">
        <div class="card sorteio-header-card">
          <div class="sorteio-header-admin">
            <div>
              <h2>Sorteio da Live</h2>
              <p>Inscri√ß√µes vindas do formul√°rio p√∫blico.</p>
            </div>
            <div class="sorteio-actions">
              <button id="btnSorteioAtualizar" class="btn-soft">Atualizar lista</button>
              <button id="btnSorteioLimpar" class="btn-soft danger">Limpar todos</button>
            </div>
          </div>
        </div>

        <div class="sorteio-layout">
          <div class="card sorteio-wheel-card">
            <div class="wheel-wrapper">
              <canvas id="sorteioWheel" width="500" height="500"></canvas>
              <div class="wheel-pointer"></div>
            </div>
            <button id="btnSorteioGirar" class="btn-girar">Girar roleta</button>
            <div class="winner-box" id="sorteioWinnerBox">
              <span id="sorteioWinnerLabel">Vencedor: ‚Äî</span>
              <button id="btnSorteioVerCodigo" class="btn-soft btn-soft-mini" style="margin-left:8px;display:none">
                Ver ID
              </button>
            </div>
          </div>

          <div class="card sorteio-list-card">
            <div class="sorteio-list-header">
              <span id="sorteioTotalInscritos">0 inscritos</span>
            </div>
            <div class="sorteio-list">
              <table class="table" aria-label="Inscritos no sorteio">
                <thead>
                  <tr>
                    <th>Nome Twitch</th>
                    <th>Data</th>
                    <th>A√ß√µes</th>
                  </tr>
                </thead>
                <tbody id="tbodySorteio"></tbody>
              </table>
            </div>
          </div>
        </div>

        <p class="sorteio-tip">
          Formul√°rio p√∫blico:
          <code>https://banca-livre.onrender.com/sorteio-publico.html</code>
        </p>
      </div>

      <div class="tab tab-view" id="tab-palpite">
        <div class="card" style="margin-bottom:12px">
          <div style="display:flex;justify-content:space-between;gap:12px;flex-wrap:wrap;align-items:flex-start">
            <div>
              <h2 style="margin:0">üí∞ Palpites</h2>
              <p class="muted" style="margin:6px 0 0">
                Chat: <code>!p 231</code> (somente valor)
              </p>
            </div>

            <div style="display:flex;gap:8px;flex-wrap:wrap">
              <button class="btn btn--primary" id="btnPalpiteOpen">üü¢ Abrir Palpites</button>
              <button class="btn btn--ghost"   id="btnPalpiteClose">üî¥ Fechar Palpites</button>
              <button class="btn btn--danger"  id="btnPalpiteClear">Limpar</button>
            </div>
          </div>
        </div>

        <div class="card" style="margin-bottom:12px">
          <div style="display:grid;grid-template-columns:1fr 1fr;gap:10px">
            <div>
              <label class="muted">Valor da Compra (Bonus Buy)</label>
              <input type="number" step="0.01" class="input" id="palpiteBuyValue" placeholder="Ex: 200">
            </div>

            <div>
              <label class="muted">Ganhadores</label>
              <select class="input" id="palpiteWinnersCount">
                <option value="1">Top 1</option>
                <option value="2">Top 2</option>
                <option value="3" selected>Top 3</option>
              </select>
            </div>
          </div>
        </div>

        <div class="card" style="margin-bottom:12px">
          <label class="muted">Log de Palpites</label>
          <div class="palpite-log" id="palpiteLogBox"></div>

          <div style="text-align:right; color:#aaa; font-size:0.8rem; margin-top:6px;">
            Total de palpites: <span id="palpiteTotalGuesses">0</span>
          </div>
        </div>

        <div class="card">
          <div style="display:grid;grid-template-columns:1fr auto;gap:10px;align-items:end">
            <div>
              <label class="muted">Quanto Pagou (Resultado Real)</label>
              <input type="number" step="0.01" class="input" id="palpiteFinalResult" placeholder="Ex: 240.50">
            </div>
            <button class="btn btn--primary" id="btnPalpiteWinners">üèÜ Verificar Vencedores</button>
          </div>

          <div class="palpite-winners" id="palpiteWinnersBox" style="margin-top:10px">‚Äî</div>
        </div>
      </div>

      <div class="tab tab-view" id="tab-torneio">
        <div class="card" style="margin-bottom:12px">
          <div style="display:flex;justify-content:space-between;gap:12px;flex-wrap:wrap;align-items:flex-start">
            <div>
              <h2 style="margin:0">üèüÔ∏è Torneio (Times)</h2>
              <p class="muted" style="margin:6px 0 0">
                Chat: <code>!time A</code> <code>!time B</code> <code>!time C</code>
              </p>
            </div>

            <div style="display:flex;gap:8px;flex-wrap:wrap">
              <button class="btn btn--primary" id="btnTorneioRefresh">Atualizar</button>
              <button class="btn btn--ghost" id="btnTorneioCopyCmd">Copiar comandos</button>
              <button class="btn btn--danger" id="btnTorneioReset">Encerrar / Reset</button>
            </div>
          </div>
        </div>

        <div class="card" style="margin-bottom:12px">
          <div style="display:grid;grid-template-columns:1fr 1fr 1fr;gap:10px;align-items:end">
            <div>
              <label class="muted" for="torNome">Nome do torneio</label>
              <input id="torNome" class="input" type="text" placeholder="Ex: Torneio do Guigz">
            </div>

            <div>
              <label class="muted" for="torFase">Fase atual</label>
              <input id="torFase" class="input" type="number" min="1" step="1" value="1">
            </div>

            <div>
              <label class="muted" for="torEstado">Status</label>
              <input id="torEstado" class="input" type="text" value="‚Äî" readonly>
            </div>
          </div>

          <div style="display:grid;grid-template-columns:1fr 1fr 1fr;gap:10px;margin-top:10px">
            <div>
              <label class="muted" for="torTeamA">Time A (nome)</label>
              <input id="torTeamA" class="input" type="text" placeholder="Ex: Time Verde">
            </div>
            <div>
              <label class="muted" for="torTeamB">Time B (nome)</label>
              <input id="torTeamB" class="input" type="text" placeholder="Ex: Time Preto">
            </div>
            <div>
              <label class="muted" for="torTeamC">Time C (nome)</label>
              <input id="torTeamC" class="input" type="text" placeholder="Ex: Time Neon">
            </div>
          </div>

          <div style="display:flex;gap:10px;flex-wrap:wrap;margin-top:12px">
            <button class="btn btn--primary" id="btnTorneioAbrir">Abrir entradas</button>
            <button class="btn btn--ghost" id="btnTorneioFechar">Fechar entradas</button>

            <div style="display:flex;gap:10px;flex-wrap:wrap;margin-left:auto" id="torCounts">
              <button type="button" class="totais-pill" id="torCountA">A: ‚Äî</button>
              <button type="button" class="totais-pill" id="torCountB">B: ‚Äî</button>
              <button type="button" class="totais-pill" id="torCountC">C: ‚Äî</button>
              <button type="button" class="totais-pill" id="torCountTotal">Total: ‚Äî</button>
            </div>
          </div>
        </div>

        <div class="card" style="margin-bottom:12px">
          <div style="display:flex;justify-content:space-between;gap:12px;flex-wrap:wrap;align-items:end">
            <div style="flex:1;min-width:220px">
              <label class="muted" for="torWinner">Time vencedor da fase</label>
              <select id="torWinner" class="input">
                <option value="A">A</option>
                <option value="B">B</option>
                <option value="C">C</option>
              </select>
            </div>

            <button class="btn btn--primary" id="btnTorneioVencedor">Confirmar vencedor</button>
          </div>

          <p class="muted" style="margin:10px 0 0">
            Ao confirmar, somente os usu√°rios do time vencedor ficam classificados para a pr√≥xima fase.
          </p>
        </div>

        <div class="card">
          <div style="display:flex;justify-content:space-between;gap:12px;flex-wrap:wrap;align-items:flex-end;margin-bottom:10px">
            <div style="flex:1;min-width:240px">
              <label class="muted" for="torSearch">Buscar participante</label>
              <input id="torSearch" class="input" type="text" placeholder="Buscar por nick‚Ä¶">
            </div>

            <div style="display:flex;gap:10px;flex-wrap:wrap">
              <div>
                <label class="muted" for="torFiltroTime">Time</label>
                <select id="torFiltroTime" class="input">
                  <option value="ALL" selected>Todos</option>
                  <option value="A">A</option>
                  <option value="B">B</option>
                  <option value="C">C</option>
                </select>
              </div>

              <div>
                <label class="muted" for="torFiltroStatus">Status</label>
                <select id="torFiltroStatus" class="input">
                  <option value="ALL" selected>Todos</option>
                  <option value="CLASSIFICADO">Classificados</option>
                  <option value="ELIMINADO">Eliminados</option>
                </select>
              </div>
            </div>
          </div>

          <div class="table-wrap">
            <table class="table" id="tblTorneio" aria-label="Tabela do Torneio">
              <thead>
                <tr>
                  <th>Nick Twitch</th>
                  <th>Fase</th>
                  <th>Time</th>
                  <th>Status</th>
                  <th>Data</th>
                  <th class="col-acoes">A√ß√µes</th>
                </tr>
              </thead>
              <tbody id="tbodyTorneio"></tbody>
            </table>
          </div>
        </div>
      </div>

      <div class="tab tab-view" id="tab-cashbacks">
        <div class="card" style="margin-bottom:12px">
          <div style="display:flex;justify-content:space-between;gap:12px;flex-wrap:wrap;align-items:flex-start">
            <div>
              <h2 style="margin:0">üí∏ Cashbacks</h2>
              <p class="muted" style="margin:6px 0 0">
                P√∫blico: <code>/cashback-publico.html</code> ‚Ä¢ Chat: <code>!cashback</code> ‚Ä¢ Status: <code>!status</code>
              </p>
            </div>

            <div style="display:flex;gap:8px;flex-wrap:wrap">
              <button class="btn btn--primary" id="btnCashbackRefresh">Atualizar</button>
              <button class="btn btn--ghost" id="btnCashbackCopyLink">Copiar link</button>
              <button class="btn btn--danger" id="btnCashbackClearFilters">Limpar filtros</button>
            </div>
          </div>
        </div>

        <div class="card" style="margin-bottom:12px">
          <div style="display:grid;grid-template-columns:1.2fr 0.8fr 0.8fr 0.6fr;gap:10px;align-items:end">
            <div>
              <label class="muted" for="cashbackSearch">Buscar</label>
              <input id="cashbackSearch" class="input" type="text" placeholder="Buscar por nick‚Ä¶">
            </div>

            <div>
              <label class="muted" for="cashbackStatus">Status</label>
              <select id="cashbackStatus" class="input">
                <option value="all" selected>Todos</option>
                <option value="PENDENTE">Pendente</option>
                <option value="APROVADO">Aprovado</option>
                <option value="REPROVADO">Reprovado</option>
              </select>
            </div>

            <div>
              <label class="muted" for="cashbackRange">Per√≠odo</label>
              <select id="cashbackRange" class="input">
                <option value="last7">√öltimos 7 dias</option>
                <option value="last30" selected>√öltimos 30 dias</option>
                <option value="today">Hoje</option>
                <option value="custom">Intervalo personalizado</option>
              </select>
            </div>

            <div style="display:flex;gap:10px">
              <div style="flex:1">
                <label class="muted" for="cashbackFrom">De</label>
                <input id="cashbackFrom" type="date" class="input" disabled>
              </div>
              <div style="flex:1">
                <label class="muted" for="cashbackTo">At√©</label>
                <input id="cashbackTo" type="date" class="input" disabled>
              </div>
            </div>
          </div>

          <div style="display:flex;gap:10px;flex-wrap:wrap;margin-top:12px">
            <div class="totais" style="gap:10px;flex-wrap:wrap">
              <button type="button" class="totais-pill" id="cashbackTotalPendentes">Pendentes: ‚Äî</button>
              <button type="button" class="totais-pill" id="cashbackTotalAprovados">Aprovados: ‚Äî</button>
              <button type="button" class="totais-pill" id="cashbackTotalReprovados">Reprovados: ‚Äî</button>
            </div>
          </div>
        </div>

        <div class="cashback-grid">
          <div class="card cashback-main">
            <div class="table-wrap">
              <table class="table" id="tblCashbacks" aria-label="Tabela de Cashbacks">
                <thead>
                  <tr>
                    <th>Data</th>
                    <th>Nick Twitch</th>
                    <th>Status</th>
                    <th>Detalhe</th>
                    <th class="col-acoes">A√ß√µes</th>
                  </tr>
                </thead>
                <tbody id="tbodyCashbacks"></tbody>
              </table>
            </div>
          </div>

          <div class="card cashback-side">
            <h3 style="margin-top:0">üèÜ Ranking (Aprovados)</h3>
            <p class="muted" style="margin:6px 0 12px">Cada aprova√ß√£o soma +1 ponto para o usu√°rio.</p>

            <div class="table-wrap">
              <table class="table" id="tblCashbackRanking" aria-label="Ranking de Cashbacks">
                <thead>
                  <tr>
                    <th>#</th>
                    <th>Usu√°rio</th>
                    <th>Pontos</th>
                  </tr>
                </thead>
                <tbody id="tbodyCashbackRanking"></tbody>
              </table>
            </div>
          </div>
        </div>

        <p class="sorteio-tip" style="margin-top:12px">
          Formul√°rio p√∫blico:
          <code id="cashbackPublicUrl">https://banca-livre.onrender.com/cashback-publico.html</code>
        </p>
      </div>

    </section>
  </main>

  <div class="toast" id="toast"></div>

  <dialog id="msgModal" style="border:0; padding:0; background:transparent;">
    <div style="
      width:min(94vw,520px);
      background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
      border:1px solid rgba(255,255,255,.12);
      border-radius:14px;
      box-shadow:0 28px 80px rgba(0,0,0,.55);
      padding:16px;
      color:#e7e9f3;">

      <h3 style="margin:0 0 8px; font-weight:800">Mensagem</h3>
      <p id="msgText" style="white-space:pre-wrap; margin:0 0 12px; color:#cfd2e8"></p>

      <div style="display:flex; gap:8px; justify-content:flex-end">
        <button class="btn btn--ghost" data-action="close-msg">Fechar</button>
      </div>
    </div>
  </dialog>

  <script src="assets/js/session.js" defer></script>
  <script src="assets/js/area.js" defer></script>
  <script src="assets/js/sorteio.js" defer></script>
  <script src="assets/js/palpite-admin.js" defer></script>
  <script src="assets/js/torneio-admin.js" defer></script>
  <script src="assets/js/cashback-admin.js" defer></script>

  

</body>
</html>
